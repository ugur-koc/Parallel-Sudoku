#include <stdio.h>
#include <time.h>
#include <stdlib.h>
#include <math.h>
#include "sa_solver.c"
#include "dfs_solver.c"

void printPuzzle(int puzzle[][SIZE]){
   printf("\n+--------+--------+--------+\n");
   for(int i = 1; i <= SIZE; ++i) {
      for(int j = 1; j <= SIZE; ++j) printf("|%d", puzzle[i-1][j-1]);
      printf("|\n");
      if (i%N == 0) printf("+--------+--------+--------+\n");
   }
}

int main() {
   clock_t finish, start;
   double time_diff;
   int puzzle[SIZE][SIZE] = {{0,0,0,9,0,0,16,1,4,0,10,0,0,0,0,12},
   {0,15,0,0,8,7,0,0,3,0,9,0,0,13,0,1},
   {7,0,4,0,0,10,0,0,0,0,0,0,0,0,0,0},
   {0,0,0,16,0,11,14,0,0,0,7,0,0,0,0,8},
   {0,0,10,0,14,12,0,4,0,0,0,0,15,0,0,0},
   {0,3,6,0,0,0,0,0,13,0,0,0,0,16,0,5},
   {0,0,7,14,0,0,0,8,12,0,5,15,13,0,6,0},
   {0,11,0,13,16,0,0,0,0,14,0,0,12,0,0,4},
   {0,0,13,0,0,14,0,0,8,0,0,0,0,0,0,0},
   {0,0,0,5,6,15,12,7,0,9,0,14,0,4,13,0},
   {0,0,15,0,0,0,5,0,0,7,0,0,11,10,9,0},
   {0,6,0,7,10,0,0,11,0,5,0,0,0,0,0,0},
   {0,0,3,0,0,8,0,14,0,2,0,0,0,0,15,10},
   {15,9,0,0,4,0,0,0,0,0,14,12,0,11,0,0},
   {0,0,0,0,13,6,1,0,0,3,11,0,14,12,16,0},
   {0,1,11,12,15,0,0,0,0,10,0,13,0,6,0,9}};
   
   /*
    srand(time(NULL));
    start = clock();
    if(!anneal(puzzle)) { printPuzzle(puzzle);
    } else printf("\n\nNO SOLUTION\n\n");
    finish = clock();
    time_diff = (double)(finish - start) / CLOCKS_PER_SEC;
    printf("StartTime:%ld, StartTime:%ld, Execution time:%f\n", start, finish, time_diff);
    */
   
   start = clock();
   if(solve(puzzle, 0, 0)) { printPuzzle(puzzle);
   } else printf("\n\nNO SOLUTION\n\n");
   finish = clock();
   time_diff = (double)(finish - start) / CLOCKS_PER_SEC;
   printf("StartTime:%ld, StartTime:%ld, Execution time:%f\n", start, finish, time_diff);
   return 0;
}

/*
 {{2, 4, 9, 8, 5, 7, 3, 1, 6},
 {8, 1, 3, 6, 4, 9, 7, 2, 5},
 {5, 6, 7, 3, 2, 1, 9, 8, 4},
 {1, 9, 2, 4, 7, 3, 5, 6, 8},
 {7, 8, 4, 2, 6, 5, 1, 3, 9},
 {3, 5, 6, 1, 9, 8, 4, 7, 2},
 {4, 7, 8, 9, 3, 2, 6, 5, 1},
 {6, 3, 1, 5, 8, 4, 2, 9, 7},
 {9, 2, 5, 7, 1, 6, 8, 4, 3}};
 
 {
 {0, 0, 0, 0, 0, 0, 0, 0, 0},
 {0, 0, 3, 6, 0, 9, 7, 0, 0},
 {0, 6, 0, 0, 2, 0, 0, 8, 0},
 {0, 9, 0, 4, 0, 3, 0, 6, 0},
 {0, 0, 4, 0, 6, 0, 1, 0, 0},
 {0, 5, 0, 1, 0, 8, 0, 7, 0},
 {0, 7, 0, 0, 3, 0, 0, 5, 0},
 {0, 0, 1, 5, 0, 4, 2, 0, 0},
 {0, 0, 0, 0, 0, 0, 0, 0, 0}};
 
 
 {0, 0, 0, 0, 0, 0, 0, 0, 0},
 {0, 0, 0, 0, 0, 0, 0, 0, 0},
 {0, 0, 0, 0, 0, 0, 0, 0, 0},
 {0, 0, 0, 0, 0, 0, 0, 0, 0},
 {0, 0, 0, 0, 0, 0, 0, 0, 0},
 {0, 0, 0, 0, 0, 0, 0, 0, 0},
 {0, 0, 0, 0, 0, 0, 0, 0, 0},
 {0, 0, 0, 0, 0, 0, 0, 0, 0},
 {0, 0, 0, 0, 0, 0, 0, 0, 0}};
 
 
 {3,12,0,10,7,11,15,14,13,2,4,9,8,5,1,6},
 {7,14,15,13,6,8,2,5,1,11,0,3,4,9,12,10},
 {8,5,2,11,12,1,9,4,6,10,14,7,13,0,15,3},
 {4,9,1,6,10,3,0,13,15,8,12,5,11,7,2,14},
 {12,13,11,2,3,15,1,8,5,9,6,14,7,4,10,0},
 {14,0,8,1,13,6,10,7,4,15,3,12,2,11,5,9},
 {5,6,9,7,14,12,4,11,2,1,10,0,15,3,13,8},
 {15,10,3,4,2,9,5,0,11,7,8,13,1,14,6,12},
 {9,1,13,3,4,5,12,2,10,14,11,15,6,8,0,7},
 {0,15,6,5,11,10,7,9,3,13,1,8,12,2,14,4},
 {2,7,10,12,8,14,6,15,0,5,9,4,3,13,11,1},
 {11,4,14,8,1,0,13,3,7,12,2,6,10,15,9,5},
 {13,11,7,14,9,4,3,1,12,6,5,2,0,10,8,15},
 {1,2,5,15,0,13,8,12,14,3,7,10,9,6,4,11},
 {6,8,12,0,15,7,14,10,9,4,13,11,5,1,3,2},
 {10,3,4,9,5,2,11,6,8,0,15,1,14,12,7,13}}
 
 */